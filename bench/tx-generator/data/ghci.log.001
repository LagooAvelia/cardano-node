[nix-shell:~/src/cardano-node]$ fg %15
cabal repl tx-generator-plutustest

ghci> decode $ encode $ ProtocolParameters { protocolParamCostModels = Data.Map.fromList [(AnyPlutusScriptVersion PlutusScriptV1, CostModel [1..175]),(AnyPlutusScriptVersion PlutusScriptV2, CostModel [1 :: Integer .. 175])], protocolParamMaxTxExUnits = Nothing, protocolParamPrices = Nothing, protocolParamUTxOCostPerWord = Nothing, protocolParamTreasuryCut = 0, protocolParamMonetaryExpansion = 0, protocolParamPoolPledgeInfluence = 0, protocolParamStakePoolTargetNum = 0, protocolParamPoolRetireMaxEpoch = 0, protocolParamMinPoolCost = 0, protocolParamStakePoolDeposit = 0, protocolParamStakeAddressDeposit = 0, protocolParamMinUTxOValue = Nothing, protocolParamTxFeePerByte = 0, protocolParamTxFeeFixed = 0, protocolParamMaxTxSize = 0, protocolParamMaxBlockBodySize = 0, protocolParamMaxBlockHeaderSize = 0, protocolParamExtraPraosEntropy = Nothing, protocolParamDecentralization = Nothing, protocolParamProtocolVersion = (0, 0), protocolParamMaxValueSize = Nothing, protocolParamMaxBlockExUnits = Nothing, protocolParamCollateralPercent = Nothing, protocolParamMaxCollateralInputs = Nothing, protocolParamUTxOCostPerByte = Nothing } :: Maybe ProtocolParameters
*** Parser [source]:
!!! Parser [source]: finished in 1.99 milliseconds, allocated 0.603 megabytes
*** Desugar:
*** Simplify [expr]:
!!! Simplify [expr]: finished in 3.31 milliseconds, allocated 0.695 megabytes
*** CorePrep [expr]:
!!! CorePrep [expr]: finished in 0.60 milliseconds, allocated 0.175 megabytes
*** Stg2Stg:
*** GHC.StgToByteCode [Ghci65]:
!!! GHC.StgToByteCode [Ghci65]: finished in 2.73 milliseconds, allocated 0.926 megabytes
Just (ProtocolParameters {protocolParamProtocolVersion = (0,0), protocolParamDecentralization = Nothing, protocolParamExtraPraosEntropy = Nothing, protocolParamMaxBlockHeaderSize = 0, protocolParamMaxBlockBodySize = 0, protocolParamMaxTxSize = 0, protocolParamTxFeeFixed = Lovelace 0, protocolParamTxFeePerByte = Lovelace 0, protocolParamMinUTxOValue = Nothing, protocolParamStakeAddressDeposit = Lovelace 0, protocolParamStakePoolDeposit = Lovelace 0, protocolParamMinPoolCost = Lovelace 0, protocolParamPoolRetireMaxEpoch = EpochNo 0, protocolParamStakePoolTargetNum = 0, protocolParamPoolPledgeInfluence = 0 % 1, protocolParamMonetaryExpansion = 0 % 1, protocolParamTreasuryCut = 0 % 1, protocolParamUTxOCostPerWord = Nothing, protocolParamCostModels = fromList [(AnyPlutusScriptVersion PlutusScriptV1,CostModel [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175]),(AnyPlutusScriptVersion PlutusScriptV2,CostModel [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175])], protocolParamPrices = Nothing, protocolParamMaxTxExUnits = Nothing, protocolParamMaxBlockExUnits = Nothing, protocolParamMaxValueSize = Nothing, protocolParamCollateralPercent = Nothing, protocolParamMaxCollateralInputs = Nothing, protocolParamUTxOCostPerByte = Nothing})
it :: Maybe ProtocolParameters
ghci> runExceptT $ do { vp <- ExceptT $ eitherDecodeFileStrict' "/home/nyc/.cabal/share/x86_64-linux-ghc-9.2.7/tx-generator-2.5/data/protocol-parameters-v8.json" ; pp <- hoistEither $ parseEither parseJSON vp ; liftIO $ print pp ; pure . fmap (\(CostModel c) -> Prelude.length c) $ AnyPlutusScriptVersion PlutusScriptV2 `Data.Map.lookup` protocolParamCostModels pp } 
*** Parser [source]:
!!! Parser [source]: finished in 0.59 milliseconds, allocated 0.244 megabytes
*** Desugar:
*** Simplify [expr]:
!!! Simplify [expr]: finished in 2.13 milliseconds, allocated 0.620 megabytes
*** CorePrep [expr]:
!!! CorePrep [expr]: finished in 0.60 milliseconds, allocated 0.174 megabytes
*** Stg2Stg:
*** GHC.StgToByteCode [Ghci66]:
!!! GHC.StgToByteCode [Ghci66]: finished in 2.06 milliseconds, allocated 0.769 megabytes
ProtocolParameters {protocolParamProtocolVersion = (8,0), protocolParamDecentralization = Nothing, protocolParamExtraPraosEntropy = Nothing, protocolParamMaxBlockHeaderSize = 1100, protocolParamMaxBlockBodySize = 90112, protocolParamMaxTxSize = 16384, protocolParamTxFeeFixed = Lovelace 155381, protocolParamTxFeePerByte = Lovelace 44, protocolParamMinUTxOValue = Nothing, protocolParamStakeAddressDeposit = Lovelace 2000000, protocolParamStakePoolDeposit = Lovelace 500000000, protocolParamMinPoolCost = Lovelace 340000000, protocolParamPoolRetireMaxEpoch = EpochNo 18, protocolParamStakePoolTargetNum = 150, protocolParamPoolPledgeInfluence = 3 % 10, protocolParamMonetaryExpansion = 3 % 1000, protocolParamTreasuryCut = 1 % 5, protocolParamUTxOCostPerWord = Nothing, protocolParamCostModels = fromList [], protocolParamPrices = Just (ExecutionUnitPrices {priceExecutionSteps = 721 % 10000000, priceExecutionMemory = 577 % 10000}), protocolParamMaxTxExUnits = Just (ExecutionUnits {executionSteps = 10000000000, executionMemory = 14000000}), protocolParamMaxBlockExUnits = Just (ExecutionUnits {executionSteps = 40000000000, executionMemory = 62000000}), protocolParamMaxValueSize = Just 5000, protocolParamCollateralPercent = Just 150, protocolParamMaxCollateralInputs = Just 3, protocolParamUTxOCostPerByte = Just (Lovelace 4310)}
Right Nothing
it :: Either String (Maybe Int)
ghci> 

